/**
*
* Copyright 2012 Adobe Systems Inc.;
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*/

// NOTE: You can't use @extend that break component independent and topdoc parsing.

// internal variables
var-background-color-checked--checkbox := #1284ff
var-checkbox-border-color := #1284ff
var-checkbox-border-color-active := var-checkbox-border-color
var-checkmark-color := #fff

var-height--checkmark__foot = 6px
var-transform--checkmark = rotate(-45deg)
var-background-color--checkmark = transparent
var-border--checkbox = 1px solid var-checkbox-border-color
var-border--checkbox--active = 1px solid var-checkbox-border-color-active
var-border--checkbox--focus = 1px solid var-checkbox-border-color-active
var-background-color--down--checkbox = var-background-color--checkmark
var-background-color--before--checkbox = var-background-color-checked--checkbox
var-border--checkmark = 3px solid var-checkmark-color
var-border--checkmark--active = 3px solid var-checkmark-color
var-width--checkmark__tail = 12px
var-border-width--checkmark = 2px
var-top--checkmark = 6px
var-left--checkmark = 5px
var-size--checkbox = 24px
var-size--checkmark = 16px
var-border--checkmark--noborder = 3px solid var-checkbox-border-color
var-border-radius--checkbox = 16px
var-border-radius--checkmark = 0px


/*! topdoc
  name: Checkbox
  class: checkbox
  modifiers:
    :focus: Focus state
    :disabled: Disabled state
  markup:
    <label class="checkbox">
      <input type="checkbox">
      <div class="checkbox__checkmark"></div>
      OFF
    </label>

    <label class="checkbox">
      <input type="checkbox" checked="checked">
      <div class="checkbox__checkmark"></div>
      ON
    </label>

    <label class="checkbox">
      <input type="checkbox" disabled>
      <div class="checkbox__checkmark"></div>
      Disabled
    </label>
*/

checkbox()
  reset-box-model()
  inline-block()
  reset-cursor()
  reset-font()
  hide-input-parent()

checkbox__label()
  inline-block()
  reset-cursor()
  reset-font()

checkbox--disabled()
  disabled()

checkbox--before()
  content ''
  position absolute

checkbox--after()
  checkbox--before()

.checkbox
  checkbox__label()
  line-height var-size--checkbox
  margin 10px 0

.checkbox > .checkbox__checkmark
  checkbox()
  height var-size--checkbox

.checkbox > input[type="checkbox"]
  hide-input()
  height 0
  width 0

.checkbox > input[type="checkbox"]:checked
  background var-background-color-checked--checkbox

.checkbox > input[type="checkbox"]:checked + .checkbox__checkmark:before
  background var-background-color--before--checkbox
  border var-border--checkbox

.checkbox > input[type="checkbox"]:checked + .checkbox__checkmark:after
  opacity 1

.checkbox > .checkbox__checkmark:before
  checkbox--before()
  reset-box-model()
  width var-size--checkbox
  height var-size--checkbox
  background var-background-color--checkmark
  border var-border--checkbox
  border-radius var-border-radius--checkbox
  box-shadow var-box-shadow
  left 0

.checkbox > .checkbox__checkmark
  checkbox()
  width var-size--checkbox
  height var-size--checkbox

// checkmark's line
.checkbox > .checkbox__checkmark:after
  checkbox--after()
  top var-top--checkmark
  left var-left--checkmark
  width var-width--checkmark__tail
  height var-height--checkmark__foot
  background transparent
  border var-border--checkmark
  border-width var-border-width--checkmark
  border-top none
  border-right none
  border-radius var-border-radius--checkmark
  transform var-transform--checkmark
  opacity 0

.checkbox > input[type="checkbox"]:focus + .checkbox__checkmark:before
  box-shadow var-box-shadow--cta

.checkbox > input[type="checkbox"]:disabled + .checkbox__checkmark
  checkbox--disabled()

.checkbox > input[type="checkbox"]:disabled:active + .checkbox__checkmark:before
  background transparent
  box-shadow var-box-shadow

/*! topdoc
  name: No border Checkbox
  class: checkbox--noborder
  markup:
    <label class="checkbox--noborder">
      <input type="checkbox">
      <div class="checkbox__checkmark"></div>
      OFF
    </label>

    <label class="checkbox--noborder">
      <input type="checkbox" checked="checked">
      <div class="checkbox__checkmark"></div>
      ON
    </label>

    <label class="checkbox--noborder">
      <input type="checkbox" disabled checked="checked">
      <div class="checkbox__checkmark"></div>
      Disabled
    </label>
 */

.checkbox--noborder > input[type="checkbox"]
  hide-input()

.checkbox--noborder
  checkbox__label()
  line-height var-size--checkbox
  margin 10px 0
  hide-input-parent()

.checkbox--noborder > .checkbox__checkmark
  inline-block()
  reset-cursor()
  reset-box-model()
  height var-size--checkbox
  background transparent

.checkbox--noborder > input[type="checkbox"]
  hide-input()
  height 0
  width 0

.checkbox--noborder > input[type="checkbox"]:checked + .checkbox__checkmark:before
  background transparent
  border none

.checkbox--noborder > input[type="checkbox"]:checked + .checkbox__checkmark:after
  opacity 1

.checkbox--noborder > .checkbox__checkmark:before
  content ''
  position absolute
  width var-size--checkbox
  height var-size--checkbox
  background transparent
  border none
  border-radius var-border-radius--checkbox
  left 0

.checkbox--noborder > .checkbox__checkmark
  inline-block()
  reset-cursor()
  reset-box-model()
  width var-size--checkbox
  height var-size--checkbox
  border none

.checkbox--noborder > .checkbox__checkmark:after
  content ''
  position absolute
  top var-top--checkmark
  left var-left--checkmark
  opacity 0
  width var-width--checkmark__tail
  height var-height--checkmark__foot
  background transparent
  border var-border--checkmark--noborder
  border-width var-border-width--checkmark
  border-top none
  border-right none
  border-radius var-border-radius--checkmark
  transform var-transform--checkmark

.checkbox--noborder > input[type="checkbox"]:focus + .checkbox__checkmark:before
  border none
  box-shadow var-box-shadow--cta

.checkbox--noborder > input[type="checkbox"]:disabled + .checkbox__checkmark
  disabled()

.checkbox--noborder > input[type="checkbox"]:disabled:active + .checkbox--noborder__checkmark:before
  background transparent
  box-shadow var-box-shadow
  border none
